function img_create(e,t,l){var o=new Image;return o.src=e,null!=t&&(o.alt=t),null!=l&&(o.id=l),o}function removeElement(e){e.parentNode.removeChild(e)}function addClasstoElem(e,t){for(var l=0;l<e.length;l++)e[l].classList.add(t)}function removeClasstoElem(e,t){for(var l=0;l<e.length;l++)e[l].classList.remove(t)}function addStyletoElem(e,t,l){for(var o=0;o<e.length;o++)e[o].style[t]=l}let moon=document.getElementById("moon"),stars=document.getElementById("stars");var body=document.querySelector("body"),h2=document.getElementsByTagName("h2"),text=document.getElementsByClassName("text"),logo=document.getElementById("logoimg"),focus_input=document.querySelectorAll(".form-inner form .field input:focus"),slider=document.querySelectorAll(".slide-controls .slider-tab"),btn_layer=document.querySelectorAll("form .btn-submit .btn-layer"),link=document.querySelectorAll(".form-inner form .pass-link a"),link2=document.querySelectorAll(".form-inner form .signup-link a"),slide=document.querySelectorAll(".slide-controls .slide"),btn_submit=document.querySelectorAll("form .btn-submit"),search_form=document.getElementsByClassName("search-form"),dis_title=document.querySelectorAll(".dis-title"),sub_title=document.querySelectorAll(".sub-title");const toggle=document.getElementById("toggle");if(toggle&&(toggle.onclick=function(){if(toggle.classList.toggle("active-toggle"),toggle.classList.contains("active-toggle")){if(Cookies.set("mode","light",{expires:30,path:"/"}),body.classList.add("light"),logo.src="./images/logoalt.svg",addClasstoElem(h2,"light-h2"),addClasstoElem(text,"light-text"),addClasstoElem(focus_input,"light-input"),addClasstoElem(slider,"light-tab"),addClasstoElem(btn_layer,"light-btn-layer"),addClasstoElem(link,"light-a"),addClasstoElem(link2,"light-a"),addClasstoElem(search_form,"active-search-form"),addClasstoElem(dis_title,"dis-title-light"),addClasstoElem(sub_title,"dis-title-light"),moon){moon.src="./images/bird1.png",moon.id="bird1",stars.src="./images/bird2.png",stars.id="bird2",moon.style.mixBlendMode="initial";var e=img_create("./images/clouds_1.png","clouds1","clouds1"),t=img_create("./images/clouds_2.png","clouds2","clouds2"),l=img_create("./images/sun.png","sun","sun");document.getElementById("background").appendChild(l),document.getElementById("background").appendChild(e),document.getElementById("background").appendChild(t)}}else Cookies.set("mode","dark",{expires:30,path:"/"}),body.classList.remove("light"),logo.src="./images/logo.svg",removeClasstoElem(h2,"light-h2"),removeClasstoElem(text,"light-text"),removeClasstoElem(focus_input,"light-input"),removeClasstoElem(slider,"light-tab"),removeClasstoElem(btn_layer,"light-btn-layer"),removeClasstoElem(link,"light-a"),removeClasstoElem(link2,"light-a"),removeClasstoElem(search_form,"active-search-form"),removeClasstoElem(dis_title,"dis-title-light"),removeClasstoElem(sub_title,"dis-title-light"),moon&&(moon.src="./images/moon.png",moon.id="moon",stars.src="./images/stars.png",stars.id="stars",removeElement(document.getElementById("sun")),removeElement(document.getElementById("clouds1")),removeElement(document.getElementById("clouds2")),moon.style.mixBlendMode="screen")}),toggle){if("light"==Cookies.get("mode")?toggle.classList.add("active-toggle"):toggle.classList.remove("active-toggle"),toggle.classList.contains("active-toggle")){if(body.classList.add("light"),logo.src="./images/logoalt.svg",addClasstoElem(h2,"light-h2"),addClasstoElem(text,"light-text"),addClasstoElem(focus_input,"light-input"),addClasstoElem(slider,"light-tab"),addClasstoElem(btn_layer,"light-btn-layer"),addClasstoElem(link,"light-a"),addClasstoElem(link2,"light-a"),addClasstoElem(search_form,"active-search-form"),addClasstoElem(dis_title,"dis-title-light"),addClasstoElem(sub_title,"dis-title-light"),moon){moon.src="./images/bird1.png",moon.id="bird1",stars.src="./images/bird2.png",stars.id="bird2",moon.style.mixBlendMode="initial";var clouds1=img_create("./images/clouds_1.png","clouds1","clouds1"),clouds2=img_create("./images/clouds_2.png","clouds2","clouds2"),sun=img_create("./images/sun.png","sun","sun");document.getElementById("background").appendChild(sun),document.getElementById("background").appendChild(clouds1),document.getElementById("background").appendChild(clouds2)}}else body.classList.remove("light"),logo.src="./images/logo.svg",removeClasstoElem(h2,"light-h2"),removeClasstoElem(text,"light-text"),removeClasstoElem(focus_input,"light-input"),removeClasstoElem(slider,"light-tab"),removeClasstoElem(btn_layer,"light-btn-layer"),removeClasstoElem(link,"light-a"),removeClasstoElem(link2,"light-a"),removeClasstoElem(search_form,"active-search-form"),removeClasstoElem(dis_title,"dis-title-light"),removeClasstoElem(sub_title,"dis-title-light"),moon&&(moon.src="./images/moon.png",moon.id="moon",stars.src="./images/stars.png",stars.id="stars",moon.style.mixBlendMode="screen");window.addEventListener("scroll",function(){let e=window.scrollY;if(toggle.classList.contains("active-toggle")){if(moon){var t=document.getElementById("clouds1"),l=document.getElementById("clouds2");document.getElementById("sun").style.top=.5*e+"px",t.style.left=.25*e+"px",l.style.left=-.25*e+"px",moon.style.top=-1.5*e+"px",moon.style.left=1.5*e+"px",stars.style.top=-1.5*e+"px",stars.style.left=-4*e+"px"}}else moon&&(stars.style.left=.25*e+"px",moon.style.top=.5*e+"px")})}$(".search-input").focus(function(){$(this).parent().addClass("focus")}).blur(function(){$(this).parent().removeClass("focus")}),$(document).ready(function(){$(".btn").delay(400).queue(function(e){$(this).addClass("hover").delay(1600).queue(function(e){$(this).removeClass("hover")}),e()})}),$(document).ready(function(){$("#newuser").blur(function(){var e=$(this).val().trim();""!=e?$.ajax({url:"ajax.php",type:"post",data:{newuser:e},success:function(e){$("#response").html(e),""!=e?($("#newuser").addClass("form-error"),$("#error-user").hide(0)):($("#newuser").removeClass("form-error"),$("#error-user").show(0))}}):$("#response").html("")}),$("#newmail").blur(function(){var e=$(this).val().trim();""!=e?$.post("ajax.php",{newmail:e},function(e,t){$("#responseMail").html(e),""!=e?($("#newmail").addClass("form-error"),$("#error-mail").hide(0)):($("#newmail").removeClass("form-error"),$("#error-mail").show(0))}):$("#responseMail").html("")})});var navbar=document.getElementsByClassName("nav-bar"),navbar_ul=document.querySelectorAll(".nav-bar ul"),menu=document.getElementsByClassName("menu"),li_menu=document.getElementById("li-menu");const menuBtn=document.querySelector(".menu-btn");let menuOpen=!1;menuBtn&&menuBtn.addEventListener("click",()=>{if(menuOpen)menuBtn.classList.remove("open"),addStyletoElem(menu,"left","-100%"),addStyletoElem(slide,"zIndex",1),addStyletoElem(btn_submit,"zIndex",1),addStyletoElem(navbar,"background","none"),addStyletoElem(navbar_ul,"overflow","initial"),body.style.overflow="initial",removeElement(document.getElementById("new-li")),menuOpen=!1;else{menuBtn.classList.add("open"),addStyletoElem(menu,"left","0%"),addStyletoElem(slide,"zIndex",0),addStyletoElem(btn_submit,"zIndex",0),addStyletoElem(navbar,"background","rgb(32, 100, 226)"),addStyletoElem(navbar,"transition","all .5s"),addStyletoElem(navbar_ul,"overflow","auto"),body.style.overflow="hidden";var e=document.createElement("li");e.id="new-li",li_menu.appendChild(e),e.innerHTML="&#x00A0;",menuOpen=!0}});const ratio=.15,options={root:null,rootMargin:"0px",threshold:.15},handleIntersect=function(e,t){e.forEach(function(e){e.intersectionRatio>.15&&(e.target.classList.add("reveal-visible"),t.unobserve(e.target))})},observer=new IntersectionObserver(handleIntersect,options);function scroll_to(e){e>500?$("#scrolltotop").fadeIn():$("#scrolltotop").fadeOut()}document.querySelectorAll(".reveal").forEach(function(e){observer.observe(e)}),$(document).ready(function(){scroll_to($(this).scrollTop()),$(window).scroll(function(){scroll_to($(this).scrollTop())}),$("#scrolltotop").on("click",function(){return $("html, body").animate({scrollTop:0},1200),!1})});const loginText=document.querySelector(".title-text .login"),loginForm=document.querySelector("form.login"),loginBtn=document.querySelector("label.login"),signupBtn=document.querySelector("label.signup"),signupLink=document.querySelector("form .signup-link a");signupBtn&&(signupBtn.onclick=(()=>{loginForm.style.marginLeft="-50%",loginText.style.marginLeft="-50%"}),loginBtn.onclick=(()=>{loginForm.style.marginLeft="0%",loginText.style.marginLeft="0%"}),signupLink.onclick=(()=>(signupBtn.click(),!1)));var btn_pop=document.getElementById("pop-button"),overlay=document.getElementsByClassName("overlay"),close_btn=document.getElementsByClassName("close-btn");function togglePopup(){document.getElementById("popup-1").classList.toggle("active-pop")}for(var i=0;i<overlay.length;i++)overlay[i].addEventListener("click",function(){togglePopup()});for(i=0;i<close_btn.length;i++)close_btn[i].addEventListener("click",function(){togglePopup()});function capitalizeFirstLetter(e){return e[0].toUpperCase()+e.slice(1)}btn_pop&&btn_pop.addEventListener("click",function(){togglePopup()}),document.addEventListener("keydown",function(e){"Escape"===e.key&&document.getElementById("popup-1").classList.toggle("active-pop")});var tabLinks=document.querySelectorAll(".tablinks"),tabContent=document.querySelectorAll(".tabcontent");function openTabs(e){var t=e.currentTarget,l=t.dataset.title;tabContent.forEach(function(e){e.classList.remove("active")}),tabLinks.forEach(function(e){e.classList.remove("active")}),document.querySelector("#"+l)&&document.querySelector("#"+l).classList.add("active"),t.classList.add("active"),sessionStorage.setItem("page",t.id)}$(document).ready(function(){if(sessionStorage.getItem("page")){tabContent.forEach(function(e){e.classList.remove("active")}),tabLinks.forEach(function(e){e.classList.remove("active")});var e=sessionStorage.getItem("page"),t=capitalizeFirstLetter(e),l=document.getElementById(e),o=document.getElementById(t);l&&(l.classList.add("active"),o.classList.add("active"))}else{var n=document.getElementById("profil"),s=document.getElementById("Profil");n&&s&&(n.classList.add("active"),s.classList.add("active"))}}),tabLinks.forEach(function(e){e.addEventListener("click",openTabs)});let back=document.getElementById("back");back&&back.addEventListener("click",function(){history.back()}),document.getElementById("file")&&(document.getElementById("file").onchange=function(){document.getElementById("file-form").submit()}),$('input[type="file"]').each(function(){var e=$(this).parents(".form-group").find("label").text();e=e||"",$(this).wrap('<div class="input-file"></div>'),$(this).before('<span class="btn">'+e+"</span>"),$(this).before('<span class="file-selected"></span>'),$(this).change(function(e){var t=$(this).val().replace(/^.*[\\\/]/,"");$(this).siblings(".file-selected").text(t)})}),$(".input-file .btn").click(function(){$(this).siblings('input[type="file"]').trigger("click")}),$(document).ready(function(){$("#ville").keydown(function(e){if(13==e.keyCode)return e.preventDefault(),!1})}),$(document).ready(function(){$.ajaxSetup({cache:!1}),$("#ville").keydown(function(e){if(13==e.which){$("#result").html(""),$("#state").val("");var t=$("#ville").val(),l=new RegExp("^"+t,"i");$.getJSON("city.list.json",function(e){$.each(e,function(e,t){-1!=t.name.search(l)&&$("#result").append('<a href="meteo.php?lat='+t.coord.lat+"&amp;lon="+t.coord.lon+'"><li class="list-group-item link-class"> '+t.name+' | <span class="text-muted">'+t.country+"</span></li></a>")})})}}),$("#submit").on("click",function(){$("#result").html(""),$("#state").val("");var e=$("#ville").val(),t=new RegExp("^"+e,"i");$.getJSON("city.list.json",function(e){$.each(e,function(e,l){-1!=l.name.search(t)&&$("#result").append('<a href="meteo.php?lat='+l.coord.lat+"&amp;lon="+l.coord.lon+'"><li class="list-group-item link-class"> '+l.name+' | <span class="text-muted">'+l.country+"</span></li></a>")})})}),$("#result").on("click","li",function(){var e=$(this).text().split("|");$("#ville").val($.trim(e[0])),$("#result").html("")})}),$("#ville").focusout(function(e){$("#result").hide(1100)}),$("#ville").focusin(function(e){$("#result").show()}),$(document).ready(function(){$("#addfav").keydown(function(e){if(13==e.keyCode)return e.preventDefault(),!1}),$.ajaxSetup({cache:!1}),$("#addfav").keydown(function(e){if(13==e.which){$("#resultfavs").html(""),$("#state").val("");var t=$("#addfav").val(),l=new RegExp("^"+t,"i");$.getJSON("city.list.json",function(e){$.each(e,function(e,t){-1!=t.name.search(l)&&$("#resultfavs").append('<a href="profil.php?addlat='+t.coord.lat+"&amp;addlon="+t.coord.lon+'"><li class="list-group-item link-class"> '+t.name+' | <span class="text-muted">'+t.country+"</span></li></a>")})})}}),$("#resultfavs").on("click","li",function(){var e=$(this).text().split("|");$("#addfav").val($.trim(e[0])),$("#resultfavs").html("")})}),$("#addfav").focusout(function(e){$("#resultfavs").hide(1100)}),$("#addfav").focusin(function(e){$("#resultfavs").show()}),$("#star").on("click",function(){var e=citypos[0].lat,t=citypos[0].lon;"undefined"==typeof id?window.location.href="connexion.html":$("#star-icon").hasClass("checked-star")?$("#star-icon").hasClass("checked-star")&&($("#star-icon").removeClass("checked-star"),$.get("ajax.php",{suplatitude:e,suplongitude:t,id:id})):($("#star-icon").addClass("checked-star"),$.get("ajax.php",{latitude:e,longitude:t,id:id}))});var checkbox=document.getElementById("switchRappel");checkbox&&(checkbox.addEventListener("click",function(){1==checkbox.checked?(document.getElementById("daterappel").removeAttribute("readonly"),document.getElementById("villerappel").removeAttribute("readonly")):(document.getElementById("daterappel").setAttribute("readonly",!0),document.getElementById("villerappel").setAttribute("readonly",!0))}),$(document).ready(function(){1==checkbox.checked&&(document.getElementById("daterappel").removeAttribute("readonly"),document.getElementById("villerappel").removeAttribute("readonly"))}));